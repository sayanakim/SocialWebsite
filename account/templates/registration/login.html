<!-- Вход. Джанго использует AuthenticationForm, 
    расположенную в django.contrib.auth.forms -->

{% extends "base.html" %}
{% block title %}Авторизация{% endblock %}

{% block content %}
    <h1>Авторизация</h1>
    {% if form.errors %}
        <p>
            Ваше имя пользователя и пароль не совпадают.
            Пожалуйста, попробуйте еще раз.
        </p>
    {% else %}
        <p>Пожалуйста, используйте следующую форму для входа:</p>
    {% endif %}
    <div class="login-form">
        <form action="{% url 'login' %}" method="post">
            {{ form.as_p }}
            {% csrf_token %}
            <input type="hidden" name="next" value="{{ next }}"/>
            <p><input type="submit" value="Войти"></p>
        </form>

        <p><a href="{% url 'password_reset' %}">Забыли свой пароль?</a></p>
    </div>
{% endblock %}

<!-- Джанго использует AuthenticationForm, расположенную в 
django.contrib.auth.forms. Эта форма пытается проверить 
подлинность пользователя и порождает ошибку проверки, если имя 
пользователя было не верно. В этом случае мы можем искать ошибки 
с помощью команды % if form.errors % . Обратите внимание, 
что мы добавили скрытый элемент <input> для отправки значения 
переменной с именем next.

Параметр next должен быть URL-адресом. Если этот параметр 
указан, то после входа пользователя в систему он перенаправляется 
на заданный URL-адрес. -->